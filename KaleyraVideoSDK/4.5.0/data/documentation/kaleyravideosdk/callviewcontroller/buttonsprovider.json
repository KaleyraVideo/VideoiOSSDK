{"variants":[{"paths":["\/documentation\/kaleyravideosdk\/callviewcontroller\/buttonsprovider"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK\/CallViewController\/buttonsProvider","interfaceLanguage":"swift"},"schemaVersion":{"minor":3,"major":0,"patch":0},"metadata":{"platforms":[{"name":"iOS","deprecated":false,"beta":false,"introducedAt":"15.0","unavailable":false}],"modules":[{"name":"KaleyraVideoSDK"}],"fragments":[{"text":"var","kind":"keyword"},{"kind":"text","text":" "},{"kind":"identifier","text":"buttonsProvider"},{"text":": (([","kind":"text"},{"kind":"typeIdentifier","text":"CallButton","preciseIdentifier":"s:15KaleyraVideoSDK10CallButtonO"},{"text":"]) -> [","kind":"text"},{"preciseIdentifier":"s:15KaleyraVideoSDK10CallButtonO","text":"CallButton","kind":"typeIdentifier"},{"text":"])?","kind":"text"}],"symbolKind":"property","title":"buttonsProvider","externalID":"s:15KaleyraVideoSDK18CallViewControllerC15buttonsProviderSayAA0D6ButtonOGAGcSgvp","roleHeading":"Instance Property","role":"symbol"},"kind":"symbol","primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"var"},{"text":" ","kind":"text"},{"text":"buttonsProvider","kind":"identifier"},{"kind":"text","text":": ((["},{"kind":"typeIdentifier","identifier":"doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK\/CallButton","text":"CallButton","preciseIdentifier":"s:15KaleyraVideoSDK10CallButtonO"},{"text":"]) -> [","kind":"text"},{"kind":"typeIdentifier","preciseIdentifier":"s:15KaleyraVideoSDK10CallButtonO","identifier":"doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK\/CallButton","text":"CallButton"},{"kind":"text","text":"])? { "},{"kind":"keyword","text":"get"},{"text":" ","kind":"text"},{"kind":"keyword","text":"set"},{"kind":"text","text":" }"}],"languages":["swift"],"platforms":["iOS"]}]},{"content":[{"type":"heading","anchor":"discussion","text":"Discussion","level":2},{"type":"paragraph","inlineContent":[{"text":"You may supply a custom function to this property when your app needs to change the default buttons displayed by the SDK.","type":"text"},{"text":" ","type":"text"},{"text":"When you set a new value to this property or when the state of the call changes and the UI needs to update the buttons displayed, this function will be called providing the list of buttons","type":"text"},{"type":"text","text":" "},{"text":"the SDK would display. In your implementation you can change which button will be displayed, the order in which they will be displayed and you can also add custom buttons to be displayed alongside","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"SDK supplied buttons. If your implementation returns an empty array, no buttons will be displayed altogether. If your implementation returns an array with duplicate items, only the first one will be displayed."}]},{"level":1,"anchor":"Layout","text":"Layout","type":"heading"},{"inlineContent":[{"text":"The SDK will layout the buttons grouping them into two sections, the “main” section, the one containing the buttons always visible during a call, is placed at the bottom of the screen, the second","type":"text"},{"type":"text","text":" "},{"text":"section will contain all other buttons. These buttons will appear when the user expands the bottom sheet, otherwise they will be concealed during the call. Each section is divided into rows containing","type":"text"},{"text":" ","type":"text"},{"type":"text","text":"the maximum number of items fitting into the available space. When laying out the buttons provided by this function the SDK will put the first items contained in the returned array into the main section"},{"type":"text","text":" "},{"text":"until the maximum number of fitting items is reached, then if this limit is exceeded the remaining items will be put into the secondary section filling the section starting from the top left corner.","type":"text"},{"type":"text","text":" "},{"text":"Let’s pretend you return an array containing 11 buttons:","type":"text"}],"type":"paragraph"},{"type":"codeListing","syntax":"swift","code":["controller.buttonsProvider = { _ in","   [.hangUp, .microphone, .camera, .flipCamera, .cameraEffects, .audioOutput, .fileShare, .screenShare(onTap: .askUser), .chat, .whiteboard, .custom(config: .init(text: \"Custom\", icon: UIImage(named: \"icon\")!, action: {}))]","}"]},{"inlineContent":[{"text":"Suppose the maximum number of items fitting in a row is 5, the SDK will layout the buttons in the following order:","type":"text"}],"type":"paragraph"},{"syntax":null,"type":"codeListing","code":[".............................................................",": audioOutput : fileShare  : screeShare : chat : whiteboard :",":.............:............:............:......:............:",": custom      :            :            :      :            :",":.............:............:............:......:............:",": hangup      : microphone : camera     : flip : effects    :",":.............:............:............:......:............:"]},{"type":"heading","anchor":"Adding-a-button","text":"Adding a button","level":1},{"type":"paragraph","inlineContent":[{"type":"text","text":"When you want to add a button to the SDK call UI you can amend the array provided as argument of this function. Let’s pretend you want to add the "},{"code":"CallButton.fileShare","type":"codeVoice"},{"type":"text","text":" "},{"text":"when the button is not already present in the default buttons collection provided to the ","type":"text"},{"type":"reference","identifier":"doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK\/CallViewController\/buttonsProvider","isActive":true},{"text":".","type":"text"}]},{"code":["controller.buttonsProvider = { defaults in","    var buttons = defaults","    if !buttons.contains(.fileShare) {","        buttons.append(.fileShare)","    }","    return buttons","}"],"syntax":"swift","type":"codeListing"},{"level":1,"anchor":"Removing-a-button","text":"Removing a button","type":"heading"},{"type":"paragraph","inlineContent":[{"type":"text","text":"When you want to remove a button from the list of buttons the SDK will display you can amend the array provided as argument of this function."},{"text":" ","type":"text"},{"text":"Let’s pretend you want to remove the microphone and camera button:","type":"text"}]},{"syntax":"swift","code":["controller.buttonsProvider = { defaults in","    var buttons = defaults","    buttons.removeAll(where: { $0 == .microphone || $0 == .camera })","    return buttons","}"],"type":"codeListing"},{"name":"Since","type":"aside","style":"note","content":[{"inlineContent":[{"type":"text","text":"4.2.0"}],"type":"paragraph"}]}],"kind":"content"}],"abstract":[{"type":"text","text":"A custom supplied function allowing the host app to customise the buttons displayed during a call."}],"hierarchy":{"paths":[["doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK","doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK\/CallViewController"]]},"sections":[],"references":{"doc://com.kaleyra.KaleyraVideoSDK/documentation/KaleyraVideoSDK/CallViewController/buttonsProvider":{"role":"symbol","abstract":[{"type":"text","text":"A custom supplied function allowing the host app to customise the buttons displayed during a call."}],"fragments":[{"text":"var","kind":"keyword"},{"text":" ","kind":"text"},{"kind":"identifier","text":"buttonsProvider"},{"text":": (([","kind":"text"},{"preciseIdentifier":"s:15KaleyraVideoSDK10CallButtonO","text":"CallButton","kind":"typeIdentifier"},{"kind":"text","text":"]) -> ["},{"preciseIdentifier":"s:15KaleyraVideoSDK10CallButtonO","kind":"typeIdentifier","text":"CallButton"},{"text":"])?","kind":"text"}],"title":"buttonsProvider","identifier":"doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK\/CallViewController\/buttonsProvider","type":"topic","kind":"symbol","url":"\/documentation\/kaleyravideosdk\/callviewcontroller\/buttonsprovider"},"doc://com.kaleyra.KaleyraVideoSDK/documentation/KaleyraVideoSDK":{"url":"\/documentation\/kaleyravideosdk","kind":"symbol","role":"collection","title":"KaleyraVideoSDK","type":"topic","identifier":"doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK","abstract":[]},"doc://com.kaleyra.KaleyraVideoSDK/documentation/KaleyraVideoSDK/CallViewController":{"identifier":"doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK\/CallViewController","navigatorTitle":[{"text":"CallViewController","kind":"identifier"}],"type":"topic","abstract":[{"type":"text","text":"A view controller showing a call user interface"}],"fragments":[{"text":"class","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CallViewController","kind":"identifier"}],"title":"CallViewController","role":"symbol","url":"\/documentation\/kaleyravideosdk\/callviewcontroller","kind":"symbol"},"doc://com.kaleyra.KaleyraVideoSDK/documentation/KaleyraVideoSDK/CallButton":{"url":"\/documentation\/kaleyravideosdk\/callbutton","kind":"symbol","role":"symbol","type":"topic","title":"CallButton","identifier":"doc:\/\/com.kaleyra.KaleyraVideoSDK\/documentation\/KaleyraVideoSDK\/CallButton","abstract":[{"type":"text","text":"The buttons you can add or remove from the call interface"}],"navigatorTitle":[{"text":"CallButton","kind":"identifier"}],"fragments":[{"text":"enum","kind":"keyword"},{"text":" ","kind":"text"},{"text":"CallButton","kind":"identifier"}]}},"variantOverrides":[{"traits":[{"interfaceLanguage":"occ"}],"patch":[{"value":"CallViewController","op":"replace","path":"\/references\/doc:~1~1com.kaleyra.KaleyraVideoSDK~1documentation~1KaleyraVideoSDK~1CallViewController\/title"},{"op":"replace","path":"\/references\/doc:~1~1com.kaleyra.KaleyraVideoSDK~1documentation~1KaleyraVideoSDK~1CallViewController\/fragments","value":[{"kind":"identifier","text":"CallViewController"}]}]}]}